#Проект поддержки котиков
## Описание и функции
Фонд собирает пожертвования на различные целевые проекты: на медицинское обслуживание нуждающихся хвостатых, на обустройство кошачьей колонии в подвале, на корм оставшимся без попечения кошкам — на любые цели, связанные с поддержкой кошачьей популяции.

### Благотворительные проекты  
Организация QRkot имеет несколько проектов, каждый из которых имеет уникальное название, описание и цель по сбору средств. Как только необходимая сумма собрана, проект закрывается. Пожертвования для всех проектов принимаются по принципу "первый вошел, первый вышел". Это означает, что все пожертвования поступают в проект, который был открыт раньше всех, и когда этот проект достигает нужной суммы и закрывается, пожертвования переходят в следующий проект.

### Пожертвования  
У каждого пользователя есть возможность сделать пожертвование с комментарием. Данные пожертвования не привязаны к конкретному проекту, а направляются в фонд. Как только собранная сумма достигает нужного уровня, пожертвования автоматически переносятся в первый доступный проект. Любые оставшиеся средства также переносятся в следующий открытый проект. При создании нового проекта, неиспользованные пожертвования автоматически направляются в качестве финансирования проекта.

## Технологии  
* **Python 3.10**
* **FastAPI**
* **SQLite**
* **Alembic**

## Как запустить
**Клонировать репозиторий**

```
git clone https://github.com/petrovi-4/cat_charity_fund.git
```
**Создать и активировать виртуальное окружение**

```
python3 -m venv venv
source venv/bin/activate
```
**Установить зависимости из файла requirements.txt**

```
python -m pip install --upgrade pip
pip install -r requirements.txt
```
**Создать файл .env и ввести переменные окружени**

```
APP_TITLE=Ваше название
APP_DESCRIPTION=Ваше Описание
DB_URL=sqlite+aiosqlite:///./fastapi.db
SECRET=Ваше секретное слово
```
**Запустить проект**

```
uvicorn app.main:app --reload
```
**Сервис будет запущен и доступен по следующим адресам:**

http://127.0.0.1:8000 - API  
http://127.0.0.1:8000/docs - автоматически сгенерированная документация Swagger
http://127.0.0.1:8000/redoc - автоматически сгенерированная документация ReDoc

**После запуска доступны следующие эндпоинты:**

**Регистрация и аутентификация:**  

**/auth/register** - регистрация пользователя  
**/auth/jwt/login** - аутентификация пользователя (получение jwt-токена)  
**/auth/jwt/logout** - выход (сброс jwt-токена) 
 
**Пользователи:**  

**/users/me** - получение и изменение данных аутентифицированного пользователя  
**/users/{id}** - получение и изменение данных пользователя по id  

**Благотворительные проекты:**

**/charity_project/** - получение списка проектов и создание нового  
**/charity\_project/{project\_id}** - изменение и удаление существующего проекта  

**Пожертвования:** 

**/donation/** - получение списка всех пожертвований и создание пожертвования  
**/donation/my** - получение списка всех пожертвований аутентифицированного пользователя  

**Автор**  
[Мартынов Сергей](https://github.com/petrovi-4)

![GitHub User's stars](https://img.shields.io/github/stars/petrovi-4?label=Stars&style=social)
![licence](https://img.shields.io/badge/licence-GPL--3.0-green)